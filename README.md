# harmony-atlas
概要: 楽曲のメタデータ、オーディオ特徴（テンポ、キー、ムードなど）、楽器構成、さらには音楽理論的な要素（コード進行、スケールなど）を知識グラフで表現し、localLLMを使って自然言語での高度な楽曲探索や分析を可能にするシステム。Redwood SDKでリッチなUIを提供し、PGLite/DuckDBで分析結果やユーザーデータを管理します。

技術スタックの連携:

PGLite/DuckDB:
PGLite: 楽曲の基本的なメタデータ（タイトル、アーティスト、アルバムなど）、ユーザーのお気に入り、プレイリストなどの構造化データを管理。
DuckDB: 楽曲のオーディオ特徴量（多数の数値データ）や分析結果を高速で集計・分析。例えば、特定のムードを持つ楽曲のテンポ分布を計算するなど。
Knowledge Graph (KG):
楽曲エンティティ: 楽曲、アーティスト、アルバム、ジャンル、楽器、ムードなどのエンティティ。
関係性: 「〜が演奏した」「〜を含む」「〜のジャンル」「〜と似たコード進行」など、音楽的な関係性を網羅。
音楽理論: コード、スケール、カデンツなどの音楽理論的な概念もエンティティとして追加し、楽曲との関係性を表現。「Cメジャーキーの楽曲で、G7からCmajへのカデンツを含む曲」といった複雑なクエリに対応できるようにします。
localLLM:
自然言語クエリの解釈: ユーザーの「ジャズで、夜に聞きたい落ち着いた雰囲気の、ピアノソロの曲」といった曖昧なリクエストを、知識グラフへのクエリやオーディオ特徴量へのフィルタリング条件に変換。
楽曲特徴の言語化: 特定の楽曲について「この曲はAマイナーキーで、ブルーススケールが多用されており、ドライブ感のあるベースラインが特徴です」のように、分析結果を自然言語で説明。
推薦理由の生成: なぜその楽曲が推薦されたのかを、知識グラフの関係性やLLMの音楽的知識に基づいて具体的に説明。
Redwood SDK:
リッチな検索UI: 楽曲検索フォーム、フィルタリングオプション。
分析結果の可視化: オーディオ特徴量のグラフ表示、コード進行の可視化。
プレイリスト作成・管理機能: ユーザーが発見した楽曲を元にプレイリストを作成できる。
ユースケース:

音楽家やプロデューサーが、特定の音楽的要素を持つ楽曲を探す。
DJが、特定のムードやテンポの楽曲を素早く見つける。
音楽愛好家が、自分の好みに合わせた新しい楽曲を発見する。
音楽学習者が、特定の音楽理論がどのように楽曲で使われているかを学ぶ。